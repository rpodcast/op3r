<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="op3r">
<title>op3r • op3r</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="op3r">
<meta property="og:description" content="op3r">
<meta property="og:image" content="https://rpodcast.github.io/op3r/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">op3r</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/op3r.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>op3r</h1>
            
      
      
      <div class="d-none name"><code>op3r.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rpodcast.github.io/op3r/">op3r</a></span><span class="op">)</span></span></code></pre></div>
<p>The <a href="https://rpodcast.github.io/op3r/">op3r</a> package was created to bring the novel <a href="https://op3.dev/" class="external-link">Open Podcast Prefix Project</a> (OP3) API to R
users through an streamlined and straight-forward interface. A growing
number of podcasts adopting the Podcastion 2.0 namespace are opting in
to the OP3 service as a robust and transparent source of statistics
associated with their podcast.</p>
<div class="section level2">
<h2 id="initial-setup">Initial setup<a class="anchor" aria-label="anchor" href="#initial-setup"></a>
</h2>
<p>The API endpoints supported by <a href="https://rpodcast.github.io/op3r/">op3r</a> require an API
token. To obtain your own set, create a free developer account at <a href="https://op3.dev/api/docs" class="external-link uri">https://op3.dev/api/docs</a>
and save the token as an environment variables called
<code>OP3_API_TOKEN</code> within a project-level or default
user-directory <code>.Renviron</code> file. Below is an example (change
to match your token value):</p>
<pre><code><span><span class="va">OP3_API_TOKEN</span><span class="op">=</span><span class="st">"abcd123"</span></span></code></pre>
<p>Once the package is installed, you can verify if authentication is
working as expected:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rpodcast.github.io/op3r/">op3r</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/op3_token_isset.html">op3_token_isset</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="case-study">Case Study<a class="anchor" aria-label="anchor" href="#case-study"></a>
</h2>
<p>The API endpoints offered by the OP3 service offer the following
general capabilities:</p>
<ul>
<li>Assembling metrics pooled across all podcasts utilizing the OP3
service.</li>
<li>Metrics associated with a specific podcast using the OP3
service.</li>
</ul>
<p>The examples below demonstrate each of these perspectives. The
podcast used for the single-podcast examples is the <a href="https://serve.podhome.fm/r-weekly-highlights" class="external-link">R Weekly Highlights
Podcast</a> hosted by Eric Nantz and Michael Thomas. First we load
additional R packages used for analysis and visualization:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span></code></pre></div>
<div class="section level3">
<h3 id="podcast-metadata">Podcast metadata<a class="anchor" aria-label="anchor" href="#podcast-metadata"></a>
</h3>
<p>Each podcast using the OP3 project is assigned a universally unique
identifier (UUID). Many of the functions tailored to specific podcasts
rely on this identifier as a parameter. To find this identifier for a
given podcast, you can use either of the following methods:</p>
<ul>
<li>Use the <code><a href="../reference/op3_show.html">op3_show()</a></code> function and supply either the
podcast’s GUID or RSS feed URL for the required <code>show_id</code>
parameter:</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rweekly_show_rss</span> <span class="op">&lt;-</span> <span class="st">"https://serve.podhome.fm/rss/bb28afcc-137e-5c66-b231-4ffad7979b44"</span></span>
<span></span>
<span><span class="fu"><a href="../reference/op3_show.html">op3_show</a></span><span class="op">(</span>show_id <span class="op">=</span> <span class="va">rweekly_show_rss</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 4</span></span></span>
<span><span class="co">#&gt;   showUuid                         title               podcastGuid  statsPageUrl</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> c008c9c7cfe847dda55cfdde54a22154 R Weekly Highlights bb28afcc-13… https://op3…</span></span></code></pre></div>
<ul>
<li>Use the <code><a href="../reference/op3_get_show_uuid.html">op3_get_show_uuid()</a></code> function with either the
podcast GUID or RSS feed URL for <code>show_id</code>:</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/op3_get_show_uuid.html">op3_get_show_uuid</a></span><span class="op">(</span><span class="st">"https://serve.podhome.fm/rss/bb28afcc-137e-5c66-b231-4ffad7979b44"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "c008c9c7cfe847dda55cfdde54a22154"</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/op3_get_show_uuid.html">op3_get_show_uuid</a></span><span class="op">(</span><span class="st">"bb28afcc-137e-5c66-b231-4ffad7979b44"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "c008c9c7cfe847dda55cfdde54a22154"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="download-metrics">Download Metrics<a class="anchor" aria-label="anchor" href="#download-metrics"></a>
</h3>
<p>Within the podcast industry, many hosts and hosting companies
gravitate towards download metrics. The
<code><a href="../reference/op3_downloads_show.html">op3_downloads_show()</a></code> function obtains download statistics
for the previous 30 days of the time the function is executed (for
additional details on how OP3 calculates downloads refer to the official
<a href="https://op3.dev/download-calculation" class="external-link">documentation</a>):</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># using the OP3 UUID for R Weekly Highlights</span></span>
<span><span class="va">show_id</span> <span class="op">&lt;-</span> <span class="st">"c008c9c7cfe847dda55cfdde54a22154"</span></span>
<span><span class="fu"><a href="../reference/op3_downloads_show.html">op3_downloads_show</a></span><span class="op">(</span>show_id <span class="op">=</span> <span class="va">show_id</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 5</span></span></span>
<span><span class="co">#&gt;   daysBotDownloads monthlyDownloads weeklyAvgDownloads numWeeks download_data   </span></span>
<span><span class="co">#&gt;              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>               30             <span style="text-decoration: underline;">2</span>186                539        4 <span style="color: #949494;">&lt;tibble [4 × 2]&gt;</span></span></span></code></pre></div>
<p>If you are interested in the downloads per week captured in the
metrics, you can run the same function with
<code>nest_downloads = FALSE</code>:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/op3_downloads_show.html">op3_downloads_show</a></span><span class="op">(</span>show_id <span class="op">=</span> <span class="va">show_id</span>, nest_downloads <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">weekNumber</span>, <span class="va">weeklyDownloads</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 2</span></span></span>
<span><span class="co">#&gt;   weekNumber weeklyDownloads</span></span>
<span><span class="co">#&gt;        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>          1             424</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>          2             702</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>          3             569</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>          4             461</span></span></code></pre></div>
<p>Additional download metrics are available based on applications used
to play the podcast. The <code><a href="../reference/op3_top_show_apps.html">op3_top_show_apps()</a></code> function
obtains metrics over the last three calendar months from the time of
execution:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">show_guid</span> <span class="op">&lt;-</span> <span class="st">"bb28afcc-137e-5c66-b231-4ffad7979b44"</span></span>
<span><span class="fu"><a href="../reference/op3_top_show_apps.html">op3_top_show_apps</a></span><span class="op">(</span><span class="va">show_guid</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 33 × 3</span></span></span>
<span><span class="co">#&gt;    app_name          value show_uuid                       </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Apple Podcasts      764 c008c9c7cfe847dda55cfdde54a22154</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Overcast            542 c008c9c7cfe847dda55cfdde54a22154</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Pocket Casts        347 c008c9c7cfe847dda55cfdde54a22154</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> gPodder             339 c008c9c7cfe847dda55cfdde54a22154</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Podcast Addict      262 c008c9c7cfe847dda55cfdde54a22154</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> YouTube Music       168 c008c9c7cfe847dda55cfdde54a22154</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Google Podcasts     156 c008c9c7cfe847dda55cfdde54a22154</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> AntennaPod          132 c008c9c7cfe847dda55cfdde54a22154</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Snipd                93 c008c9c7cfe847dda55cfdde54a22154</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Unknown Apple App    86 c008c9c7cfe847dda55cfdde54a22154</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 23 more rows</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="redirect-logs-hits">Redirect Logs / Hits<a class="anchor" aria-label="anchor" href="#redirect-logs-hits"></a>
</h3>
<p>Each of the functions demonstrated above are convenient ways to
obtain derived metrics already pre-computed behind the scenes in the
corresponding OP3 API endpoints. The common source of information used
in each of them are redirect logs (hits), a collection of metadata
dynamically generated each time a client such as a podcast application
or web browser renders the URL for a podcast episode. To illustrate,
here is the most recent log metadata at the time this vignette was
compiled:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/op3_hits.html">op3_hits</a></span><span class="op">(</span>limit <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 1</span></span>
<span><span class="co">#&gt; Columns: 14</span></span>
<span><span class="co">#&gt; $ time            <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2024-05-22 03:13:55</span></span>
<span><span class="co">#&gt; $ uuid            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "bf4d3b636ad144b09f6f0685856c01cd"</span></span>
<span><span class="co">#&gt; $ hashedIpAddress <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "4c8c2f87eb2c4057327b08bdfbec31ead9571052"</span></span>
<span><span class="co">#&gt; $ method          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "GET"</span></span>
<span><span class="co">#&gt; $ url             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "https://op3.dev/e/api.spreaker.com/download/episode/…</span></span>
<span><span class="co">#&gt; $ userAgent       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "PodcastAddict/v5 (+https://podcastaddict.com/; Androi…</span></span>
<span><span class="co">#&gt; $ range           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "bytes=59351587-"</span></span>
<span><span class="co">#&gt; $ edgeColo        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "DFW"</span></span>
<span><span class="co">#&gt; $ continent       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "NA"</span></span>
<span><span class="co">#&gt; $ country         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "US"</span></span>
<span><span class="co">#&gt; $ timezone        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "America/Chicago"</span></span>
<span><span class="co">#&gt; $ regionCode      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "TX"</span></span>
<span><span class="co">#&gt; $ region          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Texas"</span></span>
<span><span class="co">#&gt; $ metroCode       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "618"</span></span></code></pre></div>
<p>On top of these logs being available across all shows, we can filter
the logs returned for a particular podcast by setting the
<code>url</code> parameter to be either a direct link to a podcast
episode, or a version of the URL with a wildcard placeholder
<code>*</code> to signal multiple episodes.</p>
<p>How can we obtain these episode download URLs? You certainly could
obtain the podcast’s RSS feed and manually inspect each episode entry to
find the direct link to an episode. However, another R package called <a href="https://rpodcast.github.io/podindexr/" class="external-link"><code>{podindexr}</code></a>
contains many functions to obtain metadata for podcasts registered on
the <a href="https://podcastindex.org/" class="external-link">Podcast Index</a>. For example,
the <code><a href="https://rdrr.io/pkg/podindexr/man/episodes_byurl.html" class="external-link">episodes_byurl()</a></code> function takes a podcast RSS feed as
input to obtain a collection of metadata associated with up to 1,000
episodes of a podcast. Here is the metadata associated with the last
three episodes of the R Weekly Highlights podcast:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># remotes::install_github("rpodcast/podindexr")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">podindexr</span><span class="op">)</span></span>
<span><span class="va">episode_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/podindexr/man/episodes_byurl.html" class="external-link">episodes_byurl</a></span><span class="op">(</span><span class="va">rweekly_show_rss</span>, max <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">episode_df</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 3</span></span>
<span><span class="co">#&gt; Columns: 30</span></span>
<span><span class="co">#&gt; $ id                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 22601290393, 22315244014, 22028048965</span></span>
<span><span class="co">#&gt; $ title               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Issue 2024-W20 Highlights", "Issue 2024-W19 Highl…</span></span>
<span><span class="co">#&gt; $ link                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "https://serve.podhome.fm/episodepage/r-weekly-hig…</span></span>
<span><span class="co">#&gt; $ description         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "An aesthetically-pleasing journey through the his…</span></span>
<span><span class="co">#&gt; $ guid                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "54574074-0a1f-4951-8f2a-9084678c6604", "8c23a72a-…</span></span>
<span><span class="co">#&gt; $ datePublished       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1715756520, 1715152260, 1714548120</span></span>
<span><span class="co">#&gt; $ datePublishedPretty <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "May 15, 2024 2:02am", "May 08, 2024 2:11am", "May…</span></span>
<span><span class="co">#&gt; $ dateCrawled         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1715756613, 1715756613, 1715756613</span></span>
<span><span class="co">#&gt; $ enclosureUrl        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "https://op3.dev/e/serve.podhome.fm/episode/99cfd3…</span></span>
<span><span class="co">#&gt; $ enclosureType       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "audio/mpeg", "audio/mpeg", "audio/mpeg"</span></span>
<span><span class="co">#&gt; $ enclosureLength     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 71545543, 71466423, 53758290</span></span>
<span><span class="co">#&gt; $ duration            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 2955, 2946, 2215</span></span>
<span><span class="co">#&gt; $ explicit            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 0, 0, 0</span></span>
<span><span class="co">#&gt; $ episode             <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 165, 164, 163</span></span>
<span><span class="co">#&gt; $ episodeType         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "full", "full", "full"</span></span>
<span><span class="co">#&gt; $ season              <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 0, 0, 0</span></span>
<span><span class="co">#&gt; $ image               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "https://assets.podhome.fm/99cfd30f-e40c-426a-3557…</span></span>
<span><span class="co">#&gt; $ feedItunesId        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1527876975, 1527876975, 1527876975</span></span>
<span><span class="co">#&gt; $ feedUrl             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "https://serve.podhome.fm/rss/bb28afcc-137e-5c66-b…</span></span>
<span><span class="co">#&gt; $ feedImage           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "https://assets.podhome.fm/99cfd30f-e40c-426a-3557…</span></span>
<span><span class="co">#&gt; $ feedId              <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1062040, 1062040, 1062040</span></span>
<span><span class="co">#&gt; $ podcastGuid         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "bb28afcc-137e-5c66-b231-4ffad7979b44", "bb28afcc-…</span></span>
<span><span class="co">#&gt; $ feedLanguage        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "en-us", "en-us", "en-us"</span></span>
<span><span class="co">#&gt; $ feedDead            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 0, 0, 0</span></span>
<span><span class="co">#&gt; $ chaptersUrl         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "https://assets.podhome.fm/99cfd30f-e40c-426a-3557…</span></span>
<span><span class="co">#&gt; $ transcriptUrl       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "https://assets.podhome.fm/99cfd30f-e40c-426a-3557…</span></span>
<span><span class="co">#&gt; $ soundbite           <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> [915, 264, "Intro to DuckDB"], &lt;NULL&gt;, &lt;NULL&gt;</span></span>
<span><span class="co">#&gt; $ soundbites          <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> [[915, 264, "Intro to DuckDB"], [915, 264, "Intro …</span></span>
<span><span class="co">#&gt; $ persons             <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> [[38105478, "Mike Thomas", "host", "cast", "https:…</span></span>
<span><span class="co">#&gt; $ transcripts         <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> [["https://assets.podhome.fm/99cfd30f-e40c-426a-35…</span></span></code></pre></div>
<p>The <code>enclosureUrl</code> field gives us the direct link to each
podcast episode:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">episode_df</span>, <span class="va">enclosureUrl</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "https://op3.dev/e/serve.podhome.fm/episode/99cfd30f-e40c-426a-3557-08dc4ea63bb0/63851340872787683054574074-0a1f-4951-8f2a-9084678c6604v1.mp3"</span></span>
<span><span class="co">#&gt; [2] "https://op3.dev/e/serve.podhome.fm/episode/99cfd30f-e40c-426a-3557-08dc4ea63bb0/6385073280234160488c23a72a-d2f2-49e8-a460-df0535340d29v1.mp3"</span></span>
<span><span class="co">#&gt; [3] "https://op3.dev/e/serve.podhome.fm/episode/99cfd30f-e40c-426a-3557-08dc4ea63bb0/6385013221315251258372ff1e-a595-4b18-a1cd-036a28153ccdv1.mp3"</span></span></code></pre></div>
<p>As seen in the output above, we can create a wildcard version of the
URL by replacing the MP3 file name at the end with a <code>*</code>
character. Now we can run a revised call to <code><a href="../reference/op3_hits.html">op3_hits()</a></code>
using this URL as a parameter:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wildcard_url</span> <span class="op">&lt;-</span> <span class="st">"https://op3.dev/e/serve.podhome.fm/episode/99cfd30f-e40c-426a-3557-08dc4ea63bb0/*"</span></span>
<span></span>
<span><span class="fu"><a href="../reference/op3_hits.html">op3_hits</a></span><span class="op">(</span>limit <span class="op">=</span> <span class="fl">20</span>, url <span class="op">=</span> <span class="va">wildcard_url</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 20 × 15</span></span></span>
<span><span class="co">#&gt;    time                uuid      hashedIpAddress method url   userAgent edgeColo</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2024-05-22 <span style="color: #949494;">01:58:18</span> 03eb66be… d83b32c0388e3d… GET    http… Podcasts… HKG     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2024-05-22 <span style="color: #949494;">00:03:14</span> 10f478a7… 362c68b586c768… HEAD   http… Apache-H… FRA     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2024-05-21 <span style="color: #949494;">23:07:45</span> 7168c00b… d498cf7932d5e8… HEAD   http… Podcasts… LHR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2024-05-21 <span style="color: #949494;">21:40:37</span> ce5f3c47… 04572758eb9b3e… GET    http… Podcasts… LHR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2024-05-21 <span style="color: #949494;">21:40:37</span> b9a63707… 04572758eb9b3e… GET    http… Podcasts… LHR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2024-05-21 <span style="color: #949494;">20:49:57</span> 55fe5635… da2ee4eabb5c9b… GET    http… Dalvik/2… ORD     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2024-05-21 <span style="color: #949494;">20:49:57</span> 1ea3905d… da2ee4eabb5c9b… GET    http… CastBox/… ORD     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2024-05-21 <span style="color: #949494;">20:35:57</span> e52a45c2… 8cc01073bab0ae… GET    http… iTunes/1… VIE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2024-05-21 <span style="color: #949494;">20:24:46</span> 69101270… 8cc01073bab0ae… GET    http… iTunes/1… VIE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2024-05-21 <span style="color: #949494;">17:15:58</span> 74e22440… 956832d8ab2125… GET    http… Overcast… EWR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> 2024-05-21 <span style="color: #949494;">16:48:01</span> 2a3a45d9… 59b9dd26a956a3… GET    http… GSA/15.1… CDG     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> 2024-05-21 <span style="color: #949494;">15:58:36</span> ba3ed038… 01d9ce427e30d2… HEAD   http… Apache-H… FRA     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> 2024-05-21 <span style="color: #949494;">13:02:04</span> f2926a9e… 63912a90e3d577… GET    http… Podverse… EWR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> 2024-05-21 <span style="color: #949494;">12:37:10</span> fc6ac352… 418416b6308ebf… GET    http… Podverse… EWR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> 2024-05-21 <span style="color: #949494;">12:24:24</span> 8da95eef… 418416b6308ebf… GET    http… Podverse… EWR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> 2024-05-21 <span style="color: #949494;">11:09:12</span> 5cfcdcc9… 5655c6e3510bfe… GET    http… GSA/15.1… FRA     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span> 2024-05-21 <span style="color: #949494;">10:45:12</span> 440580ce… 3275b81fa2751c… GET    http… Podcasts… EWR     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">18</span> 2024-05-21 <span style="color: #949494;">08:29:11</span> 7bb60061… 610b25adebedef… HEAD   http… iTMS      SJC     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">19</span> 2024-05-21 <span style="color: #949494;">06:05:05</span> e1bda77c… 942e091ae0e535… GET    http… CastBox/… MAN     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">20</span> 2024-05-21 <span style="color: #949494;">01:52:16</span> d2bea36a… 28b78fab4fa752… GET    http… axios/0.… EWR     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 8 more variables: continent &lt;chr&gt;, country &lt;chr&gt;, timezone &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   regionCode &lt;chr&gt;, region &lt;chr&gt;, metroCode &lt;chr&gt;, range &lt;chr&gt;, xpsId &lt;chr&gt;</span></span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Eric Nantz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
